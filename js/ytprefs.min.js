!function(e,t){e._EPYT_=e._EPYT_||{ajaxurl:"/wp-admin/admin-ajax.php",security:"",gallery_scrolloffset:100,eppathtoscripts:"/wp-content/plugins/youtube-embed-plus/scripts/",eppath:"/wp-content/plugins/youtube-embed-plus/",epresponsiveselector:["iframe.__youtube_prefs_widget__"],epdovol:!0,evselector:'iframe.__youtube_prefs__[src], iframe[src*="youtube.com/embed/"], iframe[src*="youtube-nocookie.com/embed/"]',stopMobileBuffer:!0,ajax_compat:!1,usingdefault:!0,ytapi_load:"light",pause_others:!1},e._EPYT_.touchmoved=!1,e._EPYT_.apiVideos=e._EPYT_.apiVideos||{},0===e.location.toString().indexOf("https://")&&(e._EPYT_.ajaxurl=e._EPYT_.ajaxurl.replace("http://","https://")),e._EPYT_.pageLoaded=!1,t(e).on("load._EPYT_",(function(){e._EPYT_.pageLoaded=!0})),document.querySelectorAll||(document.querySelectorAll=function(t){var a=document,o=a.documentElement.firstChild,r=a.createElement("STYLE");return o.appendChild(r),a.__qsaels=[],r.styleSheet.cssText=t+"{x:expression(document.__qsaels.push(this))}",e.scrollBy(0,0),a.__qsaels}),void 0===e._EPADashboard_&&(e._EPADashboard_={initStarted:!1,checkCount:0,onPlayerReady:function(t){try{if(void 0!==_EPYT_.epdovol&&_EPYT_.epdovol){var a=parseInt(t.target.getIframe().getAttribute("data-vol"));isNaN(a)||(0===a?t.target.mute():(t.target.isMuted()&&t.target.unMute(),t.target.setVolume(a)))}var o=parseInt(t.target.getIframe().getAttribute("data-epautoplay"));isNaN(o)||1!==o||t.target.playVideo()}catch(e){}try{var r=t.target.getIframe().getAttribute("id");e._EPYT_.apiVideos[r]=t.target}catch(e){}},onPlayerStateChange:function(a){var o=a.target.getIframe();if(e._EPYT_.pause_others&&a.data===e.YT.PlayerState.PLAYING&&e._EPADashboard_.pauseOthers(a.target),a.data===e.YT.PlayerState.PLAYING&&!0!==a.target.ponce&&-1===o.src.indexOf("autoplay=1")&&(a.target.ponce=!0),a.data===e.YT.PlayerState.ENDED&&"1"==t(o).data("relstop"))if("function"==typeof a.target.stopVideo)a.target.stopVideo();else{var r=t(o).clone(!0).off();r.attr("src",e._EPADashboard_.cleanSrc(r.attr("src").replace("autoplay=1","autoplay=0"))),t(o).replaceWith(r),e._EPADashboard_.setupevents(r.attr("id")),o=r.get(0)}var n=t(o).closest(".epyt-gallery");if((n.length||(n=t("#"+t(o).data("epytgalleryid"))),n.length)&&("1"==n.find(".epyt-pagebutton").first().data("autonext")&&a.data===e.YT.PlayerState.ENDED)){var i=n.find(".epyt-current-video");i.length||(i=n.find(".epyt-gallery-thumb").first());var l=i.find(" ~ .epyt-gallery-thumb").first();l.length?l.trigger("click"):n.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().trigger("click")}},isMobile:function(){return/Mobi|Android/i.test(navigator.userAgent)},videoEqual:function(e,t){return!(!e.getIframe||!t.getIframe||e.getIframe().id!==t.getIframe().id)},pauseOthers:function(t){if(t)for(var a in e._EPYT_.apiVideos){var o=e._EPYT_.apiVideos[a];o&&"function"==typeof o.pauseVideo&&o!=t&&!_EPADashboard_.videoEqual(o,t)&&"function"==typeof o.getPlayerState&&[YT.PlayerState.BUFFERING,e.YT.PlayerState.PLAYING].indexOf(o.getPlayerState())>=0&&o.pauseVideo()}},justid:function(e){return new RegExp("[\\?&]v=([^&#]*)").exec(e)[1]},setupevents:function(t){if(void 0!==e.YT&&null!==e.YT&&e.YT.loaded){var a=document.getElementById(t);if(!a.epytsetupdone){e._EPADashboard_.log("Setting up YT API events: "+t),a.epytsetupdone=!0;var o={events:{onReady:e._EPADashboard_.onPlayerReady,onStateChange:e._EPADashboard_.onPlayerStateChange}};return new e.YT.Player(t,o)}}},apiInit:function(){if(void 0!==e.YT){e._EPADashboard_.initStarted=!0;for(var t=document.querySelectorAll(_EPYT_.evselector),a=0;a<t.length;a++)t[a].hasAttribute("id")||(t[a].id="_dytid_"+Math.round(8999*Math.random()+1e3)),e._EPADashboard_.setupevents(t[a].id)}},log:function(e){try{console.log(e)}catch(e){}},doubleCheck:function(){e._EPADashboard_.checkInterval=setInterval((function(){e._EPADashboard_.checkCount++,e._EPADashboard_.checkCount>=5||e._EPADashboard_.initStarted?clearInterval(e._EPADashboard_.checkInterval):(e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API init check"))}),1e3)},selectText:function(t){if(document.selection)(a=document.body.createTextRange()).moveToElementText(t),a.select();else if(e.getSelection){var a,o=e.getSelection();(a=document.createRange()).selectNode(t),o.removeAllRanges(),o.addRange(a)}},setVidSrc:function(t,a){t.attr("src",e._EPADashboard_.cleanSrc(a)),t.get(0).epytsetupdone=!1,e._EPADashboard_.setupevents(t.attr("id"))},cleanSrc:function(e){return e.replace("enablejsapi=1?enablejsapi=1","enablejsapi=1")},loadYTAPI:function(){if(void 0===e.YT){if("never"!==e._EPYT_.ytapi_load&&("always"===e._EPYT_.ytapi_load||t('iframe[src*="youtube.com/embed/"], iframe[data-src*="youtube.com/embed/"], .__youtube_prefs__').length)){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api",a.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(a)}}else e.YT.loaded&&(e._EPYT_.pageLoaded?(e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API available")):t(e).on("load._EPYT_",(function(){e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API available 2")})))},pageReady:function(){t(".epyt-gallery").each((function(){var a=t(this);if(!a.data("epytevents")||!t("body").hasClass("block-editor-page")){a.data("epytevents","1");var o=t(this).find("iframe, div.__youtube_prefs_gdpr__").first(),r=o.data("src")||o.attr("src");r||(r=o.data("ep-src"));var n=t(this).find(".epyt-gallery-list .epyt-gallery-thumb").first().data("videoid");void 0!==r?(r=r.replace(n,"GALLERYVIDEOID"),a.data("ep-gallerysrc",r)):o.hasClass("__youtube_prefs_gdpr__")&&a.data("ep-gallerysrc",""),a.on("click touchend",".epyt-gallery-list .epyt-gallery-thumb",(function(r){if(o=a.find("iframe, div.__youtube_prefs_gdpr__").first(),!e._EPYT_.touchmoved&&!t(this).hasClass("epyt-current-video")){a.find(".epyt-gallery-list .epyt-gallery-thumb").removeClass("epyt-current-video"),t(this).addClass("epyt-current-video");var n=t(this).data("videoid");a.data("currvid",n);var i=a.data("ep-gallerysrc").replace("GALLERYVIDEOID",n),l=a.find(".epyt-pagebutton").first().data("thumbplay");"0"!==l&&0!==l&&(i.indexOf("autoplay")>0?i=i.replace("autoplay=0","autoplay=1"):i+="&autoplay=1",o.addClass("epyt-thumbplay"));var d=Math.max(t("body").scrollTop(),t("html").scrollTop()),s=o.offset().top-parseInt(_EPYT_.gallery_scrolloffset);d>s?t("html, body").animate({scrollTop:s},500,(function(){e._EPADashboard_.setVidSrc(o,i)})):e._EPADashboard_.setVidSrc(o,i)}})).on("touchmove",(function(t){e._EPYT_.touchmoved=!0})).on("touchstart",(function(){e._EPYT_.touchmoved=!1})).on("keydown",".epyt-gallery-list .epyt-gallery-thumb, .epyt-pagebutton",(function(e){var a=e.which;13!==a&&32!==a||(e.preventDefault(),t(this).trigger("click"))})),a.on("mouseenter",".epyt-gallery-list .epyt-gallery-thumb",(function(){t(this).addClass("hover")})),a.on("mouseleave",".epyt-gallery-list .epyt-gallery-thumb",(function(){t(this).removeClass("hover")})),a.on("click touchend",".epyt-pagebutton",(function(o){if(!e._EPYT_.touchmoved&&!a.find(".epyt-gallery-list").hasClass("epyt-loading")){a.find(".epyt-gallery-list").addClass("epyt-loading");var r=void 0!==o.originalEvent,n={action:"my_embedplus_gallery_page",security:_EPYT_.security,options:{playlistId:t(this).data("playlistid"),pageToken:t(this).data("pagetoken"),pageSize:t(this).data("pagesize"),columns:t(this).data("epcolumns"),showTitle:t(this).data("showtitle"),showPaging:t(this).data("showpaging"),autonext:t(this).data("autonext"),thumbplay:t(this).data("thumbplay")}},i=t(this).hasClass("epyt-next"),l=parseInt(a.data("currpage")+"");l+=i?1:-1,a.data("currpage",l),t.post(_EPYT_.ajaxurl,n,(function(e){a.find(".epyt-gallery-list").html(e),a.find(".epyt-current").each((function(){t(this).text(a.data("currpage"))})),a.find('.epyt-gallery-thumb[data-videoid="'+a.data("currvid")+'"]').addClass("epyt-current-video"),"1"!=a.find(".epyt-pagebutton").first().data("autonext")||r||a.find(".epyt-gallery-thumb").first().trigger("click")})).fail((function(){alert("Sorry, there was an error loading the next page.")})).always((function(){if(a.find(".epyt-gallery-list").removeClass("epyt-loading"),"1"!=a.find(".epyt-pagebutton").first().data("autonext")){var e=Math.max(t("body").scrollTop(),t("html").scrollTop()),o=a.find(".epyt-gallery-list").offset().top-parseInt(_EPYT_.gallery_scrolloffset);e>o&&t("html, body").animate({scrollTop:o},500)}}))}})).on("touchmove",(function(t){e._EPYT_.touchmoved=!0})).on("touchstart",(function(){e._EPYT_.touchmoved=!1}))}})),t("button.__youtube_prefs_gdpr__").on("click",(function(a){a.preventDefault(),t.cookie&&(t.cookie("ytprefs_gdpr_consent","1",{expires:30,path:"/"}),e.top.location.reload())}))}}),e.onYouTubeIframeAPIReady=void 0!==e.onYouTubeIframeAPIReady?e.onYouTubeIframeAPIReady:function(){e._EPYT_.pageLoaded?(e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API ready")):t(e).on("load._EPYT_",(function(){e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API ready 2")}))},e._EPADashboard_.loadYTAPI(),e._EPYT_.pageLoaded?e._EPADashboard_.doubleCheck():t(e).on("load._EPYT_",(function(){e._EPADashboard_.doubleCheck()})),t(document).ready((function(){e._EPADashboard_.pageReady(),e._EPADashboard_.loadYTAPI(),e._EPYT_.ajax_compat&&t(e).on("load._EPYT_",(function(){t(document).ajaxSuccess((function(t,a,o){a&&a.responseText&&-1!==a.responseText.indexOf("<iframe ")&&(e._EPADashboard_.loadYTAPI(),e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API AJAX"),e._EPADashboard_.pageReady())}))}))}))}(window,jQuery);